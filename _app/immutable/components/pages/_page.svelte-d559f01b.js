import{S as y,i as S,s as w,k as m,q as g,l as p,m as d,r as b,h as f,n as E,b as u,F as k,u as z,B as $,f as _,g as A,d as D,t as h,U as F,w as B,x as I,y as P,z as x,e as C,V as N,a as G,c as L,O as V}from"../../chunks/index-58746148.js";import{G as H}from"../../chunks/Grouping-4f011ed7.js";import{d as T}from"../../chunks/db-cd74a76f.js";import{a as O}from"../../chunks/authService-3ebd3aae.js";function R(a){let t,s,n=a[0].name+"",r,c;return{c(){t=m("a"),s=m("h1"),r=g(n),this.h()},l(l){t=p(l,"A",{href:!0});var o=d(t);s=p(o,"H1",{});var e=d(s);r=b(e,n),e.forEach(f),o.forEach(f),this.h()},h(){E(t,"href",c="/events/"+a[0].id)},m(l,o){u(l,t,o),k(t,s),k(s,r)},p(l,[o]){o&1&&n!==(n=l[0].name+"")&&z(r,n),o&1&&c!==(c="/events/"+l[0].id)&&E(t,"href",c)},i:$,o:$,d(l){l&&f(t)}}}function j(a,t,s){let{event:n}=t;return a.$$set=r=>{"event"in r&&s(0,n=r.event)},[n]}class J extends y{constructor(t){super(),S(this,t,j,R,w,{event:0})}}function U(a,t,s){const n=a.slice();return n[1]=t[s],n}function q(a){let t,s;return t=new J({props:{event:a[1]}}),{c(){B(t.$$.fragment)},l(n){I(t.$$.fragment,n)},m(n,r){P(t,n,r),s=!0},p(n,r){const c={};r&1&&(c.event=n[1]),t.$set(c)},i(n){s||(_(t.$$.fragment,n),s=!0)},o(n){h(t.$$.fragment,n),s=!1},d(n){x(t,n)}}}function K(a){let t,s,n=a[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=q(U(a,n,l));const c=l=>h(r[l],1,1,()=>{r[l]=null});return{c(){t=m("div");for(let l=0;l<r.length;l+=1)r[l].c()},l(l){t=p(l,"DIV",{});var o=d(t);for(let e=0;e<r.length;e+=1)r[e].l(o);o.forEach(f)},m(l,o){u(l,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);s=!0},p(l,[o]){if(o&1){n=l[0];let e;for(e=0;e<n.length;e+=1){const i=U(l,n,e);r[e]?(r[e].p(i,o),_(r[e],1)):(r[e]=q(i),r[e].c(),_(r[e],1),r[e].m(t,null))}for(A(),e=n.length;e<r.length;e+=1)c(e);D()}},i(l){if(!s){for(let o=0;o<n.length;o+=1)_(r[o]);s=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)h(r[o]);s=!1},d(l){l&&f(t),F(r,l)}}}function M(a,t,s){let{events:n=[]}=t;return a.$$set=r=>{"events"in r&&s(0,n=r.events)},[n]}class Q extends y{constructor(t){super(),S(this,t,M,K,w,{events:0})}}function W(a){let t,s,n,r,c,l,o;return{c(){t=g("Please sign in:"),s=m("br"),n=G(),r=m("button"),c=g("Sign in")},l(e){t=b(e,"Please sign in:"),s=p(e,"BR",{}),n=L(e),r=p(e,"BUTTON",{});var i=d(r);c=b(i,"Sign in"),i.forEach(f)},m(e,i){u(e,t,i),u(e,s,i),u(e,n,i),u(e,r,i),k(r,c),l||(o=V(r,"click",a[2]),l=!0)},p:$,i:$,o:$,d(e){e&&f(t),e&&f(s),e&&f(n),e&&f(r),l=!1,o()}}}function X(a){let t,s;return t=new H({props:{$$slots:{title:[Z],default:[Y]},$$scope:{ctx:a}}}),{c(){B(t.$$.fragment)},l(n){I(t.$$.fragment,n)},m(n,r){P(t,n,r),s=!0},p(n,r){const c={};r&34&&(c.$$scope={dirty:r,ctx:n}),t.$set(c)},i(n){s||(_(t.$$.fragment,n),s=!0)},o(n){h(t.$$.fragment,n),s=!1},d(n){x(t,n)}}}function Y(a){let t,s,n,r,c,l,o;return r=new Q({props:{events:a[1]}}),{c(){t=m("button"),s=g("+ Create Event"),n=G(),B(r.$$.fragment)},l(e){t=p(e,"BUTTON",{});var i=d(t);s=b(i,"+ Create Event"),i.forEach(f),n=L(e),I(r.$$.fragment,e)},m(e,i){u(e,t,i),k(t,s),u(e,n,i),P(r,e,i),c=!0,l||(o=V(t,"click",a[3]),l=!0)},p(e,i){const v={};i&2&&(v.events=e[1]),r.$set(v)},i(e){c||(_(r.$$.fragment,e),c=!0)},o(e){h(r.$$.fragment,e),c=!1},d(e){e&&f(t),e&&f(n),x(r,e),l=!1,o()}}}function Z(a){let t,s;return{c(){t=m("span"),s=g("Events"),this.h()},l(n){t=p(n,"SPAN",{slot:!0});var r=d(t);s=b(r,"Events"),r.forEach(f),this.h()},h(){E(t,"slot","title")},m(n,r){u(n,t,r),k(t,s)},p:$,d(n){n&&f(t)}}}function ee(a){let t,s,n,r;const c=[X,W],l=[];function o(e,i){return e[0]?0:1}return t=o(a),s=l[t]=c[t](a),{c(){s.c(),n=C()},l(e){s.l(e),n=C()},m(e,i){l[t].m(e,i),u(e,n,i),r=!0},p(e,[i]){let v=t;t=o(e),t===v?l[t].p(e,i):(A(),h(l[v],1,1,()=>{l[v]=null}),D(),s=l[t],s?s.p(e,i):(s=l[t]=c[t](e),s.c()),_(s,1),s.m(n.parentNode,n))},i(e){r||(_(s),r=!0)},o(e){h(s),r=!1},d(e){l[t].d(e),e&&f(n)}}}function te(a,t,s){const n=[];function r(){O.signIn()}let c=!1,l;N(O.store.isLoggedIn.subscribe(async e=>{e&&(s(0,c=e),n.push(T.observeEvents(i=>{s(1,l=i)})))}));async function o(){let e=prompt("Enter the name of the event");e&&await T.createEvent(e)}return N(()=>{n.forEach(e=>e())}),[c,l,r,o]}class oe extends y{constructor(t){super(),S(this,t,te,ee,w,{})}}export{oe as default};
