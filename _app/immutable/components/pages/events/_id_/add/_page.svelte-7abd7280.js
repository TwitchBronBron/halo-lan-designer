import{S as F,i as Q,s as W,k as v,q as B,a as T,l as k,m as w,r as y,h as u,c as A,n as p,W as ee,N as U,b as M,F as $,O as q,u as fe,B as O,Q as X,f as d,g as H,d as J,t as _,U as Y,T as Z,w as G,x as C,y as P,z as D,e as K,P as ce}from"../../../../../chunks/index-58746148.js";import{u as ue,d as me}from"../../../../../chunks/db-cd74a76f.js";import{a as de,M as he}from"../../../../../chunks/ModeTile-3233bcaa.js";import{G as R}from"../../../../../chunks/Grouping-4f011ed7.js";import{j as V}from"../../../../../chunks/singletons-a077f71d.js";function _e(r){let t,s,l,e=r[0].name+"",o,n,i,a,c,f,b;return{c(){t=v("div"),s=v("div"),l=v("span"),o=B(e),n=T(),i=v("img"),this.h()},l(h){t=k(h,"DIV",{class:!0});var E=w(t);s=k(E,"DIV",{class:!0});var S=w(s);l=k(S,"SPAN",{class:!0});var I=w(l);o=y(I,e),I.forEach(u),n=A(S),i=k(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(u),E.forEach(u),this.h()},h(){p(l,"class","name svelte-s3u5d5"),ee(i.src,a=r[0].imageUrl)||p(i,"src",a),p(i,"alt",c=r[0].name+" poster"),p(i,"class","svelte-s3u5d5"),p(s,"class","game svelte-s3u5d5"),p(t,"class","wrapper svelte-s3u5d5"),U(t,"selected",r[1])},m(h,E){M(h,t,E),$(t,s),$(s,l),$(l,o),$(s,n),$(s,i),f||(b=q(s,"click",r[2]),f=!0)},p(h,[E]){E&1&&e!==(e=h[0].name+"")&&fe(o,e),E&1&&!ee(i.src,a=h[0].imageUrl)&&p(i,"src",a),E&1&&c!==(c=h[0].name+" poster")&&p(i,"alt",c),E&2&&U(t,"selected",h[1])},i:O,o:O,d(h){h&&u(t),f=!1,b()}}}function ge(r,t,s){let{game:l}=t,{selected:e=!0}=t;function o(n){X.call(this,r,n)}return r.$$set=n=>{"game"in n&&s(0,l=n.game),"selected"in n&&s(1,e=n.selected)},[l,e,o]}class pe extends F{constructor(t){super(),Q(this,t,ge,_e,W,{game:0,selected:1})}}function te(r,t,s){const l=r.slice();return l[8]=t[s],l}function le(r){let t,s;function l(){return r[4](r[8])}return t=new pe({props:{game:r[8],selected:r[1].has(r[8])}}),t.$on("click",l),{c(){G(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,o){P(t,e,o),s=!0},p(e,o){r=e;const n={};o&1&&(n.game=r[8]),o&3&&(n.selected=r[1].has(r[8])),t.$set(n)},i(e){s||(d(t.$$.fragment,e),s=!0)},o(e){_(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function $e(r){let t,s,l=r[0],e=[];for(let n=0;n<l.length;n+=1)e[n]=le(te(r,l,n));const o=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){t=v("div");for(let n=0;n<e.length;n+=1)e[n].c()},l(n){t=k(n,"DIV",{});var i=w(t);for(let a=0;a<e.length;a+=1)e[a].l(i);i.forEach(u)},m(n,i){M(n,t,i);for(let a=0;a<e.length;a+=1)e[a].m(t,null);s=!0},p(n,[i]){if(i&7){l=n[0];let a;for(a=0;a<l.length;a+=1){const c=te(n,l,a);e[a]?(e[a].p(c,i),d(e[a],1)):(e[a]=le(c),e[a].c(),d(e[a],1),e[a].m(t,null))}for(H(),a=l.length;a<e.length;a+=1)o(a);J()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)d(e[i]);s=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)_(e[i]);s=!1},d(n){n&&u(t),Y(e,n)}}}function ve(r,t,s){let{games:l}=t,{multi:e=!1}=t;const o=Z();let n=new Set;setTimeout(()=>{i(l[0])},100);function i(c){e||n.clear(),n.has(c)?n.delete(c):n.add(c),s(1,n),o("selectionChange",[...n])}const a=c=>i(c);return r.$$set=c=>{"games"in c&&s(0,l=c.games),"multi"in c&&s(3,e=c.multi)},[l,n,i,e,a]}class ke extends F{constructor(t){super(),Q(this,t,ve,$e,W,{games:0,multi:3})}}function ne(r,t,s){const l=r.slice();return l[7]=t[s],l}function se(r){let t,s,l=r[0],e=[];for(let n=0;n<l.length;n+=1)e[n]=ae(ne(r,l,n));const o=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=K()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=K()},m(n,i){for(let a=0;a<e.length;a+=1)e[a].m(n,i);M(n,t,i),s=!0},p(n,i){if(i&7){l=n[0];let a;for(a=0;a<l.length;a+=1){const c=ne(n,l,a);e[a]?(e[a].p(c,i),d(e[a],1)):(e[a]=ae(c),e[a].c(),d(e[a],1),e[a].m(t.parentNode,t))}for(H(),a=l.length;a<e.length;a+=1)o(a);J()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)d(e[i]);s=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)_(e[i]);s=!1},d(n){Y(e,n),n&&u(t)}}}function ae(r){let t,s,l,e,o,n;s=new de({props:{map:r[7]}});function i(){return r[5](r[7])}return{c(){t=v("div"),G(s.$$.fragment),l=T(),this.h()},l(a){t=k(a,"DIV",{class:!0});var c=w(t);C(s.$$.fragment,c),l=A(c),c.forEach(u),this.h()},h(){p(t,"class","map svelte-19lspkp"),U(t,"selected",r[1].has(r[7]))},m(a,c){M(a,t,c),P(s,t,null),$(t,l),e=!0,o||(n=[q(t,"click",i),q(t,"keyup",r[4])],o=!0)},p(a,c){r=a;const f={};c&1&&(f.map=r[7]),s.$set(f),(!e||c&3)&&U(t,"selected",r[1].has(r[7]))},i(a){e||(d(s.$$.fragment,a),e=!0)},o(a){_(s.$$.fragment,a),e=!1},d(a){a&&u(t),D(s),o=!1,ce(n)}}}function be(r){let t,s,l=r[0]&&se(r);return{c(){t=v("div"),l&&l.c()},l(e){t=k(e,"DIV",{});var o=w(t);l&&l.l(o),o.forEach(u)},m(e,o){M(e,t,o),l&&l.m(t,null),s=!0},p(e,[o]){e[0]?l?(l.p(e,o),o&1&&d(l,1)):(l=se(e),l.c(),d(l,1),l.m(t,null)):l&&(H(),_(l,1,1,()=>{l=null}),J())},i(e){s||(d(l),s=!0)},o(e){_(l),s=!1},d(e){e&&u(t),l&&l.d()}}}function we(r,t,s){let{maps:l}=t,{multi:e=!1}=t;const o=Z();let n=new Set;function i(f){e||n.clear(),n.has(f)?n.delete(f):n.add(f),s(1,n),o("selectionChange",[...n])}function a(f){X.call(this,r,f)}const c=f=>i(f);return r.$$set=f=>{"maps"in f&&s(0,l=f.maps),"multi"in f&&s(3,e=f.multi)},[l,n,i,e,a,c]}class Me extends F{constructor(t){super(),Q(this,t,we,be,W,{maps:0,multi:3})}}function re(r,t,s){const l=r.slice();return l[7]=t[s],l}function ie(r){let t,s,l=r[0],e=[];for(let n=0;n<l.length;n+=1)e[n]=oe(re(r,l,n));const o=n=>_(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=K()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=K()},m(n,i){for(let a=0;a<e.length;a+=1)e[a].m(n,i);M(n,t,i),s=!0},p(n,i){if(i&7){l=n[0];let a;for(a=0;a<l.length;a+=1){const c=re(n,l,a);e[a]?(e[a].p(c,i),d(e[a],1)):(e[a]=oe(c),e[a].c(),d(e[a],1),e[a].m(t.parentNode,t))}for(H(),a=l.length;a<e.length;a+=1)o(a);J()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)d(e[i]);s=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)_(e[i]);s=!1},d(n){Y(e,n),n&&u(t)}}}function oe(r){let t,s,l,e,o,n;s=new he({props:{mode:r[7]}});function i(){return r[5](r[7])}return{c(){t=v("div"),G(s.$$.fragment),l=T(),this.h()},l(a){t=k(a,"DIV",{class:!0});var c=w(t);C(s.$$.fragment,c),l=A(c),c.forEach(u),this.h()},h(){p(t,"class","mode svelte-58f46a"),U(t,"selected",r[1].has(r[7]))},m(a,c){M(a,t,c),P(s,t,null),$(t,l),e=!0,o||(n=[q(t,"click",i),q(t,"keyup",r[4])],o=!0)},p(a,c){r=a;const f={};c&1&&(f.mode=r[7]),s.$set(f),(!e||c&3)&&U(t,"selected",r[1].has(r[7]))},i(a){e||(d(s.$$.fragment,a),e=!0)},o(a){_(s.$$.fragment,a),e=!1},d(a){a&&u(t),D(s),o=!1,ce(n)}}}function Ee(r){let t,s,l=r[0]&&ie(r);return{c(){t=v("div"),l&&l.c()},l(e){t=k(e,"DIV",{});var o=w(t);l&&l.l(o),o.forEach(u)},m(e,o){M(e,t,o),l&&l.m(t,null),s=!0},p(e,[o]){e[0]?l?(l.p(e,o),o&1&&d(l,1)):(l=ie(e),l.c(),d(l,1),l.m(t,null)):l&&(H(),_(l,1,1,()=>{l=null}),J())},i(e){s||(d(l),s=!0)},o(e){_(l),s=!1},d(e){e&&u(t),l&&l.d()}}}function Se(r,t,s){let{modes:l}=t,{multi:e=!0}=t;const o=Z();let n=new Set;function i(f){e||n.clear(),n.has(f)?n.delete(f):n.add(f),s(1,n),o("selectionChange",[...n])}function a(f){X.call(this,r,f)}const c=f=>i(f);return r.$$set=f=>{"modes"in f&&s(0,l=f.modes),"multi"in f&&s(3,e=f.multi)},[l,n,i,e,a,c]}class Ge extends F{constructor(t){super(),Q(this,t,Se,Ee,W,{modes:0,multi:3})}}V.disable_scroll_handling;const Ce=V.goto;V.invalidate;V.invalidateAll;V.preload_data;V.preload_code;V.before_navigate;V.after_navigate;function Pe(r){let t,s;return t=new ke({props:{games:ue.games,multi:!1}}),t.$on("selectionChange",r[2]),{c(){G(t.$$.fragment)},l(l){C(t.$$.fragment,l)},m(l,e){P(t,l,e),s=!0},p:O,i(l){s||(d(t.$$.fragment,l),s=!0)},o(l){_(t.$$.fragment,l),s=!1},d(l){D(t,l)}}}function De(r){let t,s;return{c(){t=v("span"),s=B("Game"),this.h()},l(l){t=k(l,"SPAN",{slot:!0});var e=w(t);s=y(e,"Game"),e.forEach(u),this.h()},h(){p(t,"slot","title")},m(l,e){M(l,t,e),$(t,s)},p:O,d(l){l&&u(t)}}}function Ie(r){var l;let t,s;return t=new Ge({props:{modes:(l=r[0])==null?void 0:l.modes,multi:!1}}),t.$on("selectionChange",r[3]),{c(){G(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,o){P(t,e,o),s=!0},p(e,o){var i;const n={};o&1&&(n.modes=(i=e[0])==null?void 0:i.modes),t.$set(n)},i(e){s||(d(t.$$.fragment,e),s=!0)},o(e){_(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function Ve(r){let t,s;return{c(){t=v("span"),s=B("Game Mode"),this.h()},l(l){t=k(l,"SPAN",{slot:!0});var e=w(t);s=y(e,"Game Mode"),e.forEach(u),this.h()},h(){p(t,"slot","title")},m(l,e){M(l,t,e),$(t,s)},p:O,d(l){l&&u(t)}}}function Ne(r){var l;let t,s;return t=new Me({props:{maps:(l=r[0])==null?void 0:l.maps,multi:!1}}),t.$on("selectionChange",r[4]),{c(){G(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,o){P(t,e,o),s=!0},p(e,o){var i;const n={};o&1&&(n.maps=(i=e[0])==null?void 0:i.maps),t.$set(n)},i(e){s||(d(t.$$.fragment,e),s=!0)},o(e){_(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function Te(r){let t,s;return{c(){t=v("span"),s=B("Map"),this.h()},l(l){t=k(l,"SPAN",{slot:!0});var e=w(t);s=y(e,"Map"),e.forEach(u),this.h()},h(){p(t,"slot","title")},m(l,e){M(l,t,e),$(t,s)},p:O,d(l){l&&u(t)}}}function Ae(r){let t,s,l,e,o,n,i,a,c,f,b,h,E,S,I,L,x;return s=new R({props:{$$slots:{title:[De],default:[Pe]},$$scope:{ctx:r}}}),e=new R({props:{$$slots:{title:[Ve],default:[Ie]},$$scope:{ctx:r}}}),n=new R({props:{$$slots:{title:[Te],default:[Ne]},$$scope:{ctx:r}}}),{c(){t=v("div"),G(s.$$.fragment),l=T(),G(e.$$.fragment),o=T(),G(n.$$.fragment),i=T(),a=v("div"),c=v("a"),f=B("× Cancel"),b=T(),h=v("button"),E=B("✓ Confirm"),this.h()},l(m){t=k(m,"DIV",{class:!0});var g=w(t);C(s.$$.fragment,g),l=A(g),C(e.$$.fragment,g),o=A(g),C(n.$$.fragment,g),g.forEach(u),i=A(m),a=k(m,"DIV",{class:!0});var N=w(a);c=k(N,"A",{class:!0,href:!0});var j=w(c);f=y(j,"× Cancel"),j.forEach(u),b=A(N),h=k(N,"BUTTON",{class:!0});var z=w(h);E=y(z,"✓ Confirm"),z.forEach(u),N.forEach(u),this.h()},h(){p(t,"class","container svelte-1xr1wb9"),p(c,"class","pure-button"),p(c,"href","./"),p(h,"class","pure-button button-primary"),h.disabled=S=!r[0]||!r[1],p(a,"class","button-region svelte-1xr1wb9")},m(m,g){M(m,t,g),P(s,t,null),$(t,l),P(e,t,null),$(t,o),P(n,t,null),M(m,i,g),M(m,a,g),$(a,c),$(c,f),$(a,b),$(a,h),$(h,E),I=!0,L||(x=q(h,"click",r[5]),L=!0)},p(m,[g]){const N={};g&256&&(N.$$scope={dirty:g,ctx:m}),s.$set(N);const j={};g&257&&(j.$$scope={dirty:g,ctx:m}),e.$set(j);const z={};g&257&&(z.$$scope={dirty:g,ctx:m}),n.$set(z),(!I||g&3&&S!==(S=!m[0]||!m[1]))&&(h.disabled=S)},i(m){I||(d(s.$$.fragment,m),d(e.$$.fragment,m),d(n.$$.fragment,m),I=!0)},o(m){_(s.$$.fragment,m),_(e.$$.fragment,m),_(n.$$.fragment,m),I=!1},d(m){m&&u(t),D(s),D(e),D(n),m&&u(i),m&&u(a),L=!1,x()}}}function Be(r,t,s){let{data:l}=t,e,o,n;function i(b){s(0,e=b.detail[0])}function a(b){o=b.detail[0]}function c(b){s(1,n=b.detail[0])}async function f(){await me.createMatch(l.params.id,{game:e,mode:o,map:n}),await Ce(`/events/${l.params.id}`)}return r.$$set=b=>{"data"in b&&s(6,l=b.data)},[e,n,i,a,c,f,l]}class ze extends F{constructor(t){super(),Q(this,t,Be,Ae,W,{data:6})}}export{ze as default};
